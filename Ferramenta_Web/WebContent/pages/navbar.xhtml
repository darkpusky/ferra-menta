<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
    xmlns:p="http://primefaces.org/ui">
    
    <ui:composition>
    	<ui:param name="nav" value=":formNav:nav"/>
    	<h:form id="formNav">
    		<p:menubar id="nav" style="border-radius:0px;background:none;background-color:#838383;position:fixed;width:99%;top:0;z-index:1;">
    			<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.HOME ? 'active-menu' : ''}" value="Home" icon="pi pi-home" action="#{homeBean.getHome()}"/>
    			<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.CATALOGO ? 'active-menu' : ''}" value="Catologo" icon="pi pi-tags" action="#{homeBean.getCatalogo()}"/>
    			<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.CARRELLO ? 'active-menu' : ''}" value="Carrello #{carrelloBean.prodotti.size()}" icon="pi pi-shopping-cart" action="#{homeBean.getCarrello()}"/>
    			<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.STORICO ? 'active-menu' : ''}" value="Storico" icon="pi pi-info-circle" action="#{homeBean.getStorico()}"/>
    			<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.ACCOUNT ? 'active-menu' : ''}" value="Account" icon="pi pi-user" action="#{homeBean.getAccount()}"/>
    			<p:submenu update="nav,content" styleClass="#{(mainBean.pagina == pagina.UTENTI || mainBean.pagina == pagina.PRODOTTI || mainBean.pagina == pagina.NUOVO_PRODOTTO || mainBean.pagina == pagina.MAGAZZINO || mainBean.pagina == pagina.GUADAGNO) ? 'active-menu' : ''}" label="Admin" rendered="#{loginBean.utenteLogin.ruolo == ruolo.ADMIN}" icon="pi pi-key">
            		<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.UTENTI ? 'active-menu' : ''}" value="Lista utenti" icon="pi pi-users" action="#{homeBean.getUtenti()}"/>
            		<p:submenu update="nav,content" styleClass="#{(mainBean.pagina == pagina.PRODOTTI || mainBean.pagina == pagina.NUOVO_PRODOTTO) ? 'active-menu' : ''}" label="Prodotti" icon="pi pi-briefcase">
            			<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.PRODOTTI ? 'active-menu' : ''}" value="Lista prodotti" icon="pi pi-list" action="#{homeBean.getProdottiAdmin()}"/>
            			<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.NUOVO_PRODOTTO ? 'active-menu' : ''}" value="Nuovo prodotto" icon="pi pi-pencil" />
            		</p:submenu>
            		<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.MAGAZZINO ? 'active-menu' : ''}" value="Magazzino" icon="pi pi-inbox" />
            		<p:menuitem update="nav,content" styleClass="#{mainBean.pagina == pagina.GUADAGNO ? 'active-menu' : ''}" value="Guadagno" icon="pi pi-chart-bar" />
        		</p:submenu>
    			<f:facet name="options" class="ui-menuitem ui-widget ui-corner-all">
              	    <p:commandButton value="Logout" actionListener="#{mainBean.logout()}" action="accesso.xhtml?faces-redirect=true" style="background:none;border:0px;color:white;font-weight:400;box-shadow:none;" icon="pi pi-sign-out" />
                </f:facet>
    		</p:menubar>
    	</h:form>
    </ui:composition>
    
</html>